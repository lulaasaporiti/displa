<div class="content">
  <app-loading-spinner></app-loading-spinner>
  <form name="clienteForm" #clienteForm="ngForm" fxLayout="column" fxFlexFill>
    <div fxLayout="row" fxLayoutAlign="start center">
      <mat-accordion fxFill>
        <mat-expansion-panel [expanded]="true" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h4 class="titulo" fxFlex>Factura {{modelCliente.Optica}}</h4>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <p class="titulo">Datos cliente</p>
          <div fxLayout="column" style="margin: 12px auto;">
            <div fxLayout="row" fxLayoutGap="2vw" style="margin-top: 2px;">
              <mat-form-field fxFlex='35' fxLayout="column">
                <input matInput placeholder="Responsable" [ngModel]="modelCliente.Responsable" name="responsable"
                  #responsable="ngModel" disabled>
              </mat-form-field>
              <mat-form-field fxFlex='25' fxLayout="column">
                <input matInput placeholder="Monto crédito" [ngModel]="modelCliente.MontoCredito" name="monto"
                  #monto="ngModel" disabled>
              </mat-form-field>
              <mat-form-field fxFlex='25' fxLayout="column">
                <input matInput placeholder="Plazo crédito (días)" [ngModel]="modelCliente.PlazoCredito" name="plazo"
                  #plazo="ngModel" disabled>
              </mat-form-field>
              <mat-form-field fxFlex='25' fxLayout="column">
                <input matInput placeholder="CUIT" [ngModel]="modelCliente.Cuit" name="cuit"
                    #cuit="ngModel" disabled>
            </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutGap="2vw">
              <mat-form-field fxFlex='25' fxLayout="column">
                <input matInput placeholder="Porcentaje descuento" [ngModel]="modelCliente.PorcentajeDescuentoGeneral"
                  name="porcentaje" #porcentaje="ngModel" disabled>
              </mat-form-field>
              <mat-form-field fxFlex='25' fxLayout="column">
                <input matInput placeholder="Saldo" [ngModel]="modelCliente.SaldoActual"
                  name="saldo" #saldo="ngModel" disabled>
              </mat-form-field>   
              <mat-checkbox class="radio-group" [ngModel]="modelCliente.IdCategoriaIvaNavigation?.Discrimina" name="discrimina"
              #discrimina="ngModel" disabled> Discrimina IVA
              </mat-checkbox>
            </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>


    <div fxLayout="column">
      <app-loading-spinner></app-loading-spinner>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="6px" class="menu-agregar" (keypress)="handleKeyboardEvent($event)">
        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="6px" class="menu-agregar">
          <h5 class="titulo" fxFlex>Productos</h5>
          <mat-list #shoes fxLayout="row">
            <mat-list-item *ngFor="let p of productos">
              <button mat-button (keypress)="myScript($event)">
                {{p}}
              </button>
            </mat-list-item>
          </mat-list>
        </div>
      </div>

      <mat-divider></mat-divider>
      <table mat-table fxFill [dataSource]="dataSource" matSort fxFlexOffset="3" class="tabla">
        <ng-container matColumnDef="Cantidad">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="10"> CANTIDAD </th>
          <td mat-cell *matCellDef="let row" fxFlex="10" fxLayoutAlign="start center"> </td>
        </ng-container>

        <ng-container matColumnDef="Sobre">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex> SOBRE </th>
          <td mat-cell *matCellDef="let row" fxFlex fxLayoutAlign="start center"> </td>
        </ng-container>

        <ng-container matColumnDef="Descripcion">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="10"> DESCRIPCIÓN </th>
          <td mat-cell *matCellDef="let row" fxFlex="10" fxLayoutAlign="start center"> </td>
        </ng-container>

        <ng-container matColumnDef="Esferico">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex> ESFÉRICO </th>
          <td mat-cell *matCellDef="let row" fxFlex fxLayoutAlign="start center"> </td>
        </ng-container>
        <ng-container matColumnDef="Cilindrico">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="10"> CILÍNDRICO </th>
          <td mat-cell *matCellDef="let row" fxFlex="10" fxLayoutAlign="start center"> </td>
        </ng-container>

        <ng-container matColumnDef="Recargo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex> RECARGO </th>
          <td mat-cell *matCellDef="let row" fxFlex fxLayoutAlign="start center"> </td>
        </ng-container>

        <ng-container matColumnDef="Importe">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex> IMPORTE </th>
          <td mat-cell *matCellDef="let row" fxFlex fxLayoutAlign="start center"> </td>
        </ng-container>

        <ng-container matColumnDef="Borrar">
          <th mat-header-cell *matHeaderCellDef mat-sort-header fxFlex> BORRAR </th>
          <td mat-cell *matCellDef="let row" fxFlex fxLayoutAlign="start center"> </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns" fxFill sticky></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" fxFill></tr>
      </table>
      <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20, 50]"></mat-paginator>
    </div>


    <div fxLayout="row" fxLayoutAlign="space-between end" fxFlexOffset="8" style="margin-bottom: 2px;">
      <button mat-raised-button (click)="cancelar()">Cancelar</button>
      <button mat-raised-button color="primary" [disabled]="!clienteForm.form.valid"
        (click)="altaCliente()">Agregar</button>
    </div>
  </form>
</div>